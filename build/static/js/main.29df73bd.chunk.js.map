{"version":3,"sources":["services/persons.js","components/RichenBadge.js","App.js","index.js"],"names":["baseUrl","exports","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deletePerson","delete","RichenBadge","className","href","src","Provider","value","Notification","message","Filter","search","handleSearchChange","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","showAll","handlePersonDelete","peopleToShow","filter","people","name","toLowerCase","includes","number","toString","map","person","onClick","App","useState","setPersons","setNewName","setNewNumber","setShowAll","setSearch","errorMessage","setErrorMessage","useEffect","personService","event","target","preventDefault","personObject","some","personToUpdate","find","window","confirm","newPersons","indexOf","setTimeout","catch","error","JSON","stringify","concat","console","log","err","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29df73bd.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const response = axios.put(`${baseUrl}/${id}`, newObject)\n  return response.then((response) => response.data)\n}\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nconst exports = { getAll, create, update, deletePerson }\n\nexport default exports\n","import React from 'react'\nimport './RichenBadge.css'\nimport {\n  FaGithubSquare,\n  FaStackOverflow,\n  FaTwitterSquare,\n  FaLinkedin,\n  FaCodepen,\n  FaMedium,\n} from 'react-icons/fa'\nimport { IconContext } from 'react-icons'\n\nexport default function RichenBadge() {\n  return (\n    <div id=\"badge\">\n      <div className=\"left-container\">\n        <h4>Technologies used for this project</h4>\n        <ul>\n          <li>React</li>\n          <li>Express</li>\n          <li>Node</li>\n          <li>MongoDB</li>\n        </ul>\n      </div>\n      <div className=\"right-container\">\n        <div id=\"profile-container\">\n          <a href=\"https://github.com/richen604\">\n            <img id=\"profile-img\" src=\"https://i.imgur.com/WAPsV1w.jpg\" />\n          </a>\n        </div>\n        <IconContext.Provider value={{ className: 'profile-icons' }}>\n          <div className=\"profile-icon-container\">\n            <a href=\"https://github.com/richen604\">\n              <FaGithubSquare />\n            </a>\n            <a href=\"https://stackoverflow.com/users/story/15002438\">\n              <FaStackOverflow />\n            </a>\n            <a href=\"https://twitter.com/_richenn\">\n              <FaTwitterSquare />\n            </a>\n            <a href=\"www.linkedin.com/in/richenn\">\n              <FaLinkedin />\n            </a>\n            <a href=\"https://codepen.io/richen604\">\n              <FaCodepen />\n            </a>\n            <a href=\"https://medium.com/@richardhenninger\">\n              <FaMedium />\n            </a>\n          </div>\n        </IconContext.Provider>\n        <h4 className=\"profile-message\">\n          Like my content? Take a look for more!\n        </h4>\n      </div>\n    </div>\n  )\n}\n","/* eslint-disable indent */\n/* eslint-disable react/prop-types */\nimport React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './App.css'\nimport RichenBadge from './components/RichenBadge.js'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return <div className=\"error\">{message}</div>\n}\n\nconst Filter = ({ search, handleSearchChange }) => {\n  return (\n    <form>\n      Search:\n      <div>\n        <input\n          className=\"form-input\"\n          value={search}\n          onChange={handleSearchChange}\n        />\n      </div>\n    </form>\n  )\n}\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <>\n      <h2>Add a New Person</h2>\n      <form onSubmit={addPerson}>\n        Name:\n        <div>\n          <input\n            className=\"form-input\"\n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        Number:\n        <div>\n          <input\n            className=\"form-input\"\n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">Add Person</button>\n        </div>\n      </form>\n    </>\n  )\n}\nconst Persons = ({ persons, search, showAll, handlePersonDelete }) => {\n  const peopleToShow = showAll\n    ? persons\n    : persons.filter(\n        (people) =>\n          (people.name.toLowerCase().includes(search.toLowerCase()) ||\n            people.number.toString().includes(search)) === true,\n      )\n  return (\n    <div>\n      <h2>People</h2>\n      {peopleToShow.map((person) => (\n        <div className=\"person\" key={person.name}>\n          {person.name}: {person.number}\n          <button onClick={() => handlePersonDelete(person)}>delete</button>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [search, setSearch] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      setPersons(response)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.some((person) => person.name === personObject.name)) {\n      const personToUpdate = persons.find(\n        (person) => person.name === personObject.name,\n      )\n      if (\n        window.confirm(\n          `Person ${newName}: \\n already exists, replace old number with new one?`,\n        )\n      ) {\n        personService\n          .update(personToUpdate.id, personObject)\n          .then((response) => {\n            const newPersons = [...persons]\n            newPersons[persons.indexOf(personToUpdate)] = response\n            setPersons(newPersons)\n            setNewNumber('')\n            setNewNumber('')\n\n            setErrorMessage(`${personToUpdate.name} information updated...`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n          .catch((error) => {\n            /* Handler for multi client\n            alert(`${personToUpdate.name} already got deleted in the server`);\n            const personsUpdated = persons.filter(\n              (person) => person.id !== personToUpdate.id\n            );\n            setPersons(personsUpdated); */\n            setErrorMessage(`${JSON.stringify(error.response.data.error)} `)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n      }\n      return\n    }\n\n    personService\n      .create(personObject)\n      .then((response) => {\n        setPersons(persons.concat(response))\n        setNewName('')\n        setNewNumber('')\n        setErrorMessage(`${response.name} added!`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        return\n      })\n      .catch((error) => {\n        //because error is a response from our server, we don't need to worry about the security flaw with JSON.stringify()\n        //still a security risk\n        console.log(error.response.data.error)\n        const err = JSON.stringify(error.response.data.error)\n        setErrorMessage(`${err}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    return\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    if (search === '') {\n      setShowAll(true)\n      setSearch(event.target.value)\n    }\n    setShowAll(false)\n    setSearch(event.target.value)\n  }\n\n  const handlePersonDelete = (person) => {\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\n      personService\n        .deletePerson(person.id)\n        .then((response) => {\n          return response\n        })\n        .then(() => {\n          personService.getAll().then((response) => {\n            setPersons(response)\n          })\n        })\n        .catch((err) => console.log(err))\n      return\n    }\n    return\n  }\n\n  return (\n    <div id=\"app-body\">\n      <div id=\"nav-header\">\n        <h2>Phonebook Application</h2>\n      </div>\n      <div id=\"content-container\">\n        <div id=\"form-container\">\n          <Notification id=\"notification\" message={errorMessage} />\n          <Filter id=\"filter\" {...{ search, handleSearchChange }} />\n          <PersonForm\n            id=\"person-form\"\n            {...{\n              addPerson,\n              newName,\n              handleNameChange,\n              newNumber,\n              handleNumberChange,\n            }}\n          />\n          <RichenBadge />\n        </div>\n        <div id=\"person-container\">\n          <Persons\n            id=\"person-output\"\n            {...{ persons, search, showAll, handlePersonDelete }}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}