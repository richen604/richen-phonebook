(this["webpackJsonprichen-phonebook"]=this["webpackJsonprichen-phonebook"]||[]).push([[0],{44:function(e,n,t){},45:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t(2),i=t.n(r),a=t(19),o=t.n(a),s=t(9),j=t(20),l=t(5),d=t(7),u=t.n(d),h="/api/persons",b={getAll:function(){return u.a.get(h).then((function(e){return e.data}))},create:function(e){return u.a.post(h,e).then((function(e){return e.data}))},update:function(e,n){return u.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},deletePerson:function(e){return u.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))}},f=(t(44),t(45),t(4)),O=t(0);function m(){return Object(c.jsxs)("div",{id:"badge",children:[Object(c.jsxs)("div",{className:"left-container",children:[Object(c.jsx)("h4",{children:"Technologies used for this project"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"React"}),Object(c.jsx)("li",{children:"Express"}),Object(c.jsx)("li",{children:"Node"}),Object(c.jsx)("li",{children:"MongoDB"})]})]}),Object(c.jsxs)("div",{className:"right-container",children:[Object(c.jsx)("div",{id:"profile-container",children:Object(c.jsx)("a",{href:"https://github.com/richen604",children:Object(c.jsx)("img",{id:"profile-img",src:"https://i.imgur.com/WAPsV1w.jpg"})})}),Object(c.jsx)(O.b.Provider,{value:{className:"profile-icons"},children:Object(c.jsxs)("div",{className:"profile-icon-container",children:[Object(c.jsx)("a",{href:"https://github.com/richen604",children:Object(c.jsx)(f.b,{})}),Object(c.jsx)("a",{href:"https://stackoverflow.com/users/story/15002438",children:Object(c.jsx)(f.e,{})}),Object(c.jsx)("a",{href:"https://twitter.com/_richenn",children:Object(c.jsx)(f.f,{})}),Object(c.jsx)("a",{href:"www.linkedin.com/in/richenn",children:Object(c.jsx)(f.c,{})}),Object(c.jsx)("a",{href:"https://codepen.io/richen604",children:Object(c.jsx)(f.a,{})}),Object(c.jsx)("a",{href:"https://medium.com/@richardhenninger",children:Object(c.jsx)(f.d,{})})]})}),Object(c.jsx)("h4",{className:"profile-message",children:"Like my content? Take a look for more!"})]})]})}var x=function(e){var n=e.message;return null===n?null:Object(c.jsx)("div",{className:"error",children:n})},p=function(e){var n=e.search,t=e.handleSearchChange;return Object(c.jsxs)("form",{children:["Search:",Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:"form-input",value:n,onChange:t})})]})},v=function(e){var n=e.addPerson,t=e.newName,r=e.handleNameChange,i=e.newNumber,a=e.handleNumberChange;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Add a New Person"}),Object(c.jsxs)("form",{onSubmit:n,children:["Name:",Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:"form-input",value:t,onChange:r})}),"Number:",Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:"form-input",value:i,onChange:a})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"Add Person"})})]})]})},g=function(e){var n=e.persons,t=e.search,r=e.showAll,i=e.handlePersonDelete,a=r?n:n.filter((function(e){return!0===(e.name.toLowerCase().includes(t.toLowerCase())||e.number.toString().includes(t))}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"People"}),a.map((function(e){return Object(c.jsxs)("div",{className:"person",children:[e.name,": ",e.number,Object(c.jsx)("button",{onClick:function(){return i(e)},children:"delete"})]},e.name)}))]})},w=function(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),t=n[0],i=n[1],a=Object(r.useState)(""),o=Object(l.a)(a,2),d=o[0],u=o[1],h=Object(r.useState)(""),f=Object(l.a)(h,2),O=f[0],w=f[1],N=Object(r.useState)(!0),S=Object(l.a)(N,2),P=S[0],C=S[1],k=Object(r.useState)(""),y=Object(l.a)(k,2),A=y[0],T=y[1],D=Object(r.useState)(null),J=Object(l.a)(D,2),E=J[0],L=J[1];Object(r.useEffect)((function(){b.getAll().then((function(e){i(e)}))}),[]);return Object(c.jsxs)("div",{id:"app-body",children:[Object(c.jsx)("div",{id:"nav-header",children:Object(c.jsx)("h2",{children:"Phonebook Application"})}),Object(c.jsxs)("div",{id:"content-container",children:[Object(c.jsxs)("div",{id:"form-container",children:[Object(c.jsx)(x,{id:"notification",message:E}),Object(c.jsx)(p,Object(s.a)({id:"filter"},{search:A,handleSearchChange:function(e){""===A&&(C(!0),T(e.target.value)),C(!1),T(e.target.value)}})),Object(c.jsx)(v,Object(s.a)({id:"person-form"},{addPerson:function(e){e.preventDefault();var n={name:d,number:O};if(t.some((function(e){return e.name===n.name}))){var c=t.find((function(e){return e.name===n.name}));window.confirm("Person ".concat(d,": \n already exists, replace old number with new one?"))&&b.update(c.id,n).then((function(e){var n=Object(j.a)(t);n[t.indexOf(c)]=e,i(n),w(""),w(""),L("".concat(c.name," information updated...")),setTimeout((function(){L(null)}),5e3)})).catch((function(e){L("".concat(JSON.stringify(e.response.data.error)," ")),setTimeout((function(){L(null)}),5e3),u(""),w("")}))}else b.create(n).then((function(e){i(t.concat(e)),u(""),w(""),L("".concat(e.name," added!")),setTimeout((function(){L(null)}),5e3)})).catch((function(e){console.log(e.response.data.error);var n=JSON.stringify(e.response.data.error);L("".concat(n)),setTimeout((function(){L(null)}),5e3)}))},newName:d,handleNameChange:function(e){u(e.target.value)},newNumber:O,handleNumberChange:function(e){w(e.target.value)}})),Object(c.jsx)(m,{})]}),Object(c.jsx)("div",{id:"person-container",children:Object(c.jsx)(g,Object(s.a)({id:"person-output"},{persons:t,search:A,showAll:P,handlePersonDelete:function(e){window.confirm("Do you really want to delete ".concat(e.name,"?"))&&b.deletePerson(e.id).then((function(e){return e})).then((function(){b.getAll().then((function(e){i(e)}))})).catch((function(e){return console.log(e)}))}}))})]})]})};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.29df73bd.chunk.js.map